<!doctype html>
<html>

<body>
    <meta charset="UTF-8">
    <script>
        let input = Array(1000);
        input.fill(2);
        let d = new Date();


        function getProductsOfAllIntsExceptAtIndex(input) {
            let output = input.slice();
            for (let i in input) {
                output[i] = 1;
                for (let j in input) {
                    if (j !== i) {
                        output[i] *= input[j];
                    }
                }
            }
            return output;
        }

        function getProductsOfAllIntsExceptAtIndexBravo(input) {
            let productArray = temp = input.slice();
            for (let i in input) {
                delete temp[i];
                productArray[i] = 1;
                for (let j in input) {
                    productArray[i] *= temp[j];
                }
            }
            return productArray;
        }


        function betterProductOfAllIntsExceptAtIndex(input) {
            return input.map((_value, index) => {
                let multArr = input.slice()
                delete multArr[index];
                return multArr.reduce((accr, value) => {
                    return accr * value
                });
            });
        }


        function run(call) {
            let t0 = performance.now();
            let algorithm = call(input);
            let t1 = performance.now();
            console.log((t1 - t0));
        }


        run(getProductsOfAllIntsExceptAtIndex);
        run(getProductsOfAllIntsExceptAtIndexBravo);
        run(betterProductOfAllIntsExceptAtIndex);
    </script>
</body>

</html>